# Реализация паттерной GoF
## Были реализованы следующие паттерны:
- порождающий паттерн Фабричный метод»
- структурный паттерн Легковес
- поведенческий паттерн Посредник

## Краткое теоретическое описание паттернов
– порождающий паттерн «Фабричный метод»: создаётся интерфейс класса фабрики для создания объектов, позволяющий подклассам решать, какой объект создать, он удобен для расширения набора создаваемых типов;
–	структурный паттерн «Легковес»: позволяет выделить общие редко изменяемые поля в отдельный класс, создав множество мелких однотипных объектов, это уменьшает потребление памяти за счёт того, что убираются повторяющиеся данные;
–	поведенческий паттерн «Посредник»: инкапсулирует взаимодействие между объектами, исключая прямые зависимости между ними. Упрощает коммуникацию между компонентами за счёт передачи всех запросов через общий центр посредника (mediator).

## Краткое описание программы
Реализуем часть регистрации с выдачей роли пользователю. При вводе почты, пароля и названия роли создаётся класс User с полями:
- Email : string;
- Password : string;
- Role : UserRoleFlyWeight;

В данном случае Role является реализацией «Легковес», т.к. список ролей у нас ограниченный, и, чтобы не повторять в каждом пользователей одни и те же атрибуты, выделим это в отдельный класс.

Также «Легковес» хорошо сочетается с паттерной «Фабричный метод», реализующий класс-производитель класса UserRoleFlyWeight. Создадим абстрактный класс RoleFactoryBase, возвращающий именно класс UserRoleFlyWeight, т.к. нет необходимости и возможности выделить некую абстрактную сущность из роли пользователя. Далее создадим конкретную реализацию RoleFactory (наследуется от RoleFactoryBase), возвращающая некий список ролей. Можем считать это неким InMemory хранилищем.

Реализуем класс Mediator (паттерн «Посредник»). В нём должно быть два метода: Notify : void и Request<TResponse> : TResponse.
Notify – необходим для реализации действий без возврата данных вызывающему. Пример: запись события в лог;
Request – запрос в посредник для вызова бизнес-логики другого объекта, соответствующему конкретному событию. Пример: запрос роли из фабрики.

Наш посредник будет вызываться в классе бизнес-логики UserSerivce. В момент регистрации UserService отправляет событие «GetRole» в Request<UserRoleFlyWeight>, которое перехватывает посредник. Он вызывает RoleFactory.GetRole() и возвращает роль в UserService. Далее UserService создаёт класс User и отправляет событие «UserCreated» в Notify посредника, для записи данных в лог.

